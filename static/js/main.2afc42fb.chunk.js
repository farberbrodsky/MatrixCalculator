(this["webpackJsonpmatrix-calculator"]=this["webpackJsonpmatrix-calculator"]||[]).push([[0],{20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n(1),i=n.n(s),a=n(12),o=n.n(a),c=(n(20),n(2)),l=n(13),u=n(3),h=n.n(u),d=n(14),f=n(8),b=n(9),v=n(10),j=function(){function t(e,n){Object(b.a)(this,t),this.className="Rational";try{if(void 0===n){var r=e.toString();if(this.str=r,-1!==r.indexOf("/")){if(r.indexOf("/")!==r.length-1)return new t(r.substring(0,r.indexOf("/")),r.substring(r.indexOf("/")+1));r=r.substring(0,r.indexOf("/"))}if(-1!==r.indexOf(".")){this.b=1n;for(var s=0;s<e.length-r.indexOf(".")-1;s++)this.b*=10n}else this.b=1n;return void(this.a=BigInt(r.substring(0,r.indexOf("."))+r.substring(r.indexOf(".")+1)))}e=BigInt(e),n=BigInt(n);var i=1;e<0&&(i*=-1,e*=-1n),n<0&&(i*=-1,n*=-1n);var a=function t(e,n){return n===BigInt(0)?e:t(n,e%n)}(e,n);0n===a?(this.a=BigInt(i)*e,this.b=n):(this.a=BigInt(i)*BigInt(e/a),this.b=n/a)}catch(o){this.a=0,this.b=1}}return Object(v.a)(t,[{key:"add",value:function(e){return"Rational"===e.className?new t(this.a*e.b+this.b*e.a,this.b*e.b):e.add(this)}},{key:"sub",value:function(e){return new t(this.a*e.b-this.b*e.a,this.b*e.b)}},{key:"neg",value:function(){return new t(-this.a,this.b)}},{key:"mul",value:function(e){return"Rational"===e.className?new t(this.a*e.a,this.b*e.b):e.mul(this)}},{key:"opposite",value:function(){return new t(this.b,this.a)}},{key:"toString",value:function(){return this.str&&"0"===this.str[0]&&-1===this.str.indexOf(".")&&(this.str=this.str.substring(1)),this.str?this.str:1n!==this.b?this.a.toString()+"/"+this.b.toString():this.a.toString()}},{key:"isZero",value:function(){return 0n===this.a}},{key:"isOne",value:function(){return this.a===this.b}}]),t}();function m(t){return function(){function e(n){Object(b.a)(this,e),this.className="Z"+t.toString(),this.x=n%t}return Object(v.a)(e,[{key:"add",value:function(n){return n.className===this.className?new e((this.x+n.x)%t):"Real"===n.className?new e((this.x+Math.floor(n.x))%t):"Rational"===n.className&&1n===n.b?new e(this.x+Number(n.a)):n.add(this)}},{key:"sub",value:function(t){return this.add(t.neg())}},{key:"mul",value:function(t){return t.className===this.className?new e(this.x*t.x):"Real"===t.className?new e(this.x*Math.floor(t.x)):"Rational"===t.className&&1n===t.b?new e(this.x*Number(t.a)):t.mul(this)}},{key:"neg",value:function(){return new e(t-this.x)}},{key:"opposite",value:function(){for(var n=1;n<t;n++)if(this.x*n%t===1)return new e(n)}},{key:"toString",value:function(){return this.x.toString()}},{key:"isZero",value:function(){return 0===this.x}},{key:"isOne",value:function(){return 1===this.x}}]),e}()}var x=function(){function t(e,n,r){Object(b.a)(this,t),this.className="Matrix",this.mat=e,this.rows=n,this.cols=r}return Object(v.a)(t,[{key:"getItem",value:function(t,e){return this.mat[t-1+(e-1)*this.rows]}},{key:"setItem",value:function(t,e,n){this.mat[t-1+(e-1)*this.rows]=n}},{key:"toString",value:function(){for(var t=new Array(this.cols).fill(0),e=1;e<=this.rows;e++)for(var n=1;n<=this.cols;n++){var r=this.getItem(e,n).toString().length;r>t[n]&&(t[n]=r)}for(var s="",i=1;i<=this.rows;i++){for(var a=1;a<=this.cols;a++){var o=this.getItem(i,a).toString();s+=o=o.padEnd(t[a]," "),a!==this.cols&&(s+=" ")}i!==this.rows&&(s+="\n")}return s}},{key:"add",value:function(e){for(var n=t.Zero(Math.min(this.rows,e.rows),Math.min(this.cols,e.cols)),r=1;r<=n.rows;r++)for(var s=1;s<=n.cols;s++)n.setItem(r,s,this.getItem(r,s).add(e.getItem(r,s)));return n}},{key:"mul",value:function(e){for(var n=t.Zero(this.rows,e.cols),r=1;r<=this.rows;r++)for(var s=1;s<=e.cols;s++){for(var i=this.getItem(r,1).mul(e.getItem(1,s)),a=2;a<=this.cols;a++){var o=this.getItem(r,a).mul(e.getItem(a,s));i=i.add(o)}n.setItem(r,s,i)}return n}},{key:"minor",value:function(e,n){for(var r=t.Zero(this.rows-1,this.cols-1),s=1;s<=this.rows-1;s++)for(var i=1;i<=this.cols-1;i++){var a=s;s>=e&&(a+=1);var o=i;i>=n&&(o+=1),r.setItem(s,i,this.getItem(a,o))}return r}},{key:"det",value:function(){for(var t=this.rowReduce(),e=Object(c.a)(t,2),n=e[0],r=e[1],s=1;s<=r.rows;s++)if(r.getItem(s,s).isZero())return new j(0n,1n);var i,a=new j(1n,1n),o=Object(f.a)(n);try{for(o.s();!(i=o.n()).done;){var l=i.value;"swap"===l[0]?a=a.neg():"mul"===l[0]&&(a=a.mul(l[2].opposite()))}}catch(u){o.e(u)}finally{o.f()}return a}},{key:"adj",value:function(){for(var e=t.Zero(this.cols,this.rows),n=1;n<=this.rows;n++)for(var r=1;r<=this.cols;r++){var s=new j(Math.pow(-1,r+n)).mul(this.minor(r,n).det());e.setItem(n,r,s)}return e}},{key:"swapRowsInplace",value:function(t,e){for(var n=1;n<=this.cols;n++){var r=this.getItem(t,n);this.setItem(t,n,this.getItem(e,n)),this.setItem(e,n,r)}}},{key:"addRowInplace",value:function(t,e,n){for(var r=1;r<=this.cols;r++)this.setItem(t,r,this.getItem(t,r).add(n.mul(this.getItem(e,r))))}},{key:"multiplyRowInplace",value:function(t,e){for(var n=1;n<=this.cols;n++)this.setItem(t,n,e.mul(this.getItem(t,n)))}},{key:"applyRowOperation",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];"swap"===t?this.swapRowsInplace.apply(this,n):"add"===t?this.addRowInplace.apply(this,n):"mul"===t&&this.multiplyRowInplace.apply(this,n)}},{key:"rowReduce",value:function(){for(var t=this.clone(),e=[],n=t.rows+1,r=1;r<=n-1;r++){for(var s=!0,i=1;i<=t.cols;i++)if(!t.getItem(r,i).isZero()){s=!1;break}s&&(n-=1,t.swapRowsInplace(r,n),e.push(["swap",r,n]))}for(var a=1,o=1;o<=t.cols;o++){var c=void 0,l=!1;for(c=a;c<=t.rows;c++)if(!t.getItem(c,o).isZero()){l=!0;break}if(l){c!==a&&(t.swapRowsInplace(c,a),e.push(["swap",c,a]),c=a),a+=1;var u=t.getItem(c,o);if(!u.isOne()&&!u.isZero()){var h=u.opposite();t.multiplyRowInplace(c,h),e.push(["mul",c,h])}for(var d=1;d<=t.rows;d++)if(d!==c&&!t.getItem(d,o).isZero()){var f=t.getItem(d,o).neg();t.addRowInplace(d,c,f),e.push(["add",d,c,f])}}}return[e,t]}},{key:"linearlyIndependentRows",value:function(){for(var e=this.rowReduce(),n=Object(c.a)(e,1)[0],r=this.clone(),s=[0],i=1;i<=this.cols;i++)s.push(i);var a,o=Object(f.a)(n);try{for(o.s();!(a=o.n()).done;){var l=a.value;if("mul"===l[0])r.applyRowOperation("mul",s[l[1]],l[2]);else if("add"===l[0])r.applyRowOperation("add",s[l[1]],s[l[2]],l[3]);else if("swap"===l[0]){var u=s[l[1]];s[l[1]]=s[l[2]],s[l[2]]=u}}}catch(x){o.e(x)}finally{o.f()}for(var h=[],d=0,b=1;b<=r.rows;b++){for(var v=[],j=!0,m=1;m<=r.cols;m++)r.getItem(b,m).isZero()||(j=!1),v.push(this.getItem(b,m));j||(d+=1,h=h.concat(v))}return new t(h,this.cols,d).transpose()}},{key:"transpose",value:function(){for(var e=t.Zero(this.cols,this.rows),n=1;n<=this.cols;n++)for(var r=1;r<=this.rows;r++)e.setItem(n,r,this.getItem(r,n));return e}},{key:"inverse",value:function(){if(this.rows===this.cols){for(var t=this.rows,e=this.rowReduce(),n=Object(c.a)(e,2),r=n[0],s=n[1],i=1;i<=t;i++)if(!s.getItem(i,i).isOne())return;var a,o=Object(f.a)(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;s.applyRowOperation.apply(s,Object(d.a)(l))}}catch(u){o.e(u)}finally{o.f()}return s}}},{key:"clone",value:function(){return new t(this.mat.slice(),this.rows,this.cols)}}],[{key:"Identity",value:function(e,n,r){for(var s=[],i=0;i<e;i++)for(var a=0;a<e;a++)s.push(a===i?r||new j(1n,1n):n||new j(0n,1n));return new t(s,e,e)}},{key:"Zero",value:function(e,n,r){return new t(new Array(e*n).fill(r||new j(0n,1n)),e,n)}}]),t}();function p(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n}function w(t){var e=t.matrix,n=t.editable,i=t.field,a=t.onChange;function o(t,n,r){var s=r.target.value,o=e.clone();o.setItem(t,n,new i(s)),a(o)}function u(t,n){for(var r=x.Zero(t,n),s=1;s<=e.rows;s++)for(var i=1;i<=e.cols;i++)r.setItem(s,i,e.getItem(s,i));a(r)}var d=Object(s.useState)({}),f=Object(c.a)(d,2),b=f[0],v=f[1],j=Object(r.jsx)("table",{children:Object(r.jsx)("tbody",{children:p(1,e.rows).map((function(t){return Object(r.jsx)("tr",{children:p(1,e.cols).map((function(s){var i=e.getItem(t,s).toString(),a=n?Object(r.jsx)("input",{style:{width:i.length+"ch"},onChange:o.bind(null,t,s),ref:function(e){return v(Object.assign(b,Object(l.a)({},"".concat(t,",").concat(s),e)))},onClick:function(){return b["".concat(t,",").concat(s)].select()},onKeyDown:function(e){try{var n=e.target,r=n.value.length,i=n.selectionStart,a=n.selectionEnd;i===r&&a===r&&"ArrowRight"===e.key?(b["".concat(t,",").concat(s+1)].select(),e.preventDefault()):0===i&&0===a&&"ArrowLeft"===e.key?(b["".concat(t,",").concat(s-1)].select(),e.preventDefault()):"ArrowDown"===e.key?(b["".concat(t+1,",").concat(s)].select(),e.preventDefault()):"ArrowUp"===e.key&&(b["".concat(t-1,",").concat(s)].select(),e.preventDefault())}catch(o){}},value:i},t.toString()+","+s.toString()):Object(r.jsx)("span",{children:i});return Object(r.jsx)("td",{children:a},t.toString()+","+s.toString())}))},t)}))})});return Object(r.jsxs)("div",{className:h.a.MatrixComponent,children:[Object(r.jsx)("div",{className:h.a.leftParentheses}),n?Object(r.jsxs)("div",{className:h.a.buttonContainer,children:[j,Object(r.jsx)("button",{className:h.a.colAdd,onClick:function(){return u(e.rows,e.cols+1)},children:"+"}),Object(r.jsx)("button",{className:h.a.colSub,onClick:function(){return u(e.rows,e.cols-1)},children:"-"}),Object(r.jsx)("button",{className:h.a.rowAdd,onClick:function(){return u(e.rows+1,e.cols)},children:"+"}),Object(r.jsx)("button",{className:h.a.rowSub,onClick:function(){return u(e.rows-1,e.cols)},children:"-"}),Object(r.jsx)("button",{className:h.a.rowColAdd,onClick:function(){return u(e.rows+1,e.cols+1)},children:"+"}),Object(r.jsx)("button",{className:h.a.rowColSub,onClick:function(){return u(e.rows-1,e.cols-1)},children:"-"})]}):j,Object(r.jsx)("div",{className:h.a.rightParentheses})]})}var O=n(7),g=n.n(O);function y(t){var e=t.value,n=e[0],s=e[1];return Object(r.jsxs)("div",{children:[n.map((function(t){return"mul"===(e=t)[0]?Object(r.jsxs)("p",{children:["R",e[1]," to R",e[1]," * ",e[2].toString()]}):"add"===e[0]?Object(r.jsxs)("p",{children:["R",e[1]," to R",e[1]," + ",e[2]," * ",(e[3]||1).toString()]}):"swap"===e[0]?Object(r.jsxs)("p",{children:["swap R",e[1]," and R",e[2]]}):void 0;var e})),Object(r.jsx)("p",{children:"Result:"}),Object(r.jsx)(w,{matrix:s})]})}function I(t){return Object(r.jsxs)("div",{className:g.a.matrixWithButtons,children:[Object(r.jsx)("div",{className:g.a.alignCenter,children:Object(r.jsx)(w,{matrix:t.matrix,editable:t.editable,field:t.field,onChange:t.onChange})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:g.a.buttons,children:[Object(r.jsx)("button",{onClick:function(){return t.setResult({type:"matrix",value:t.matrix.transpose()})},children:"Transpose"}),Object(r.jsx)("button",{onClick:function(){return t.setResult({type:"element",value:Object(r.jsx)(y,{value:t.matrix.rowReduce()})})},children:"Row Reduce"})]}),Object(r.jsxs)("div",{className:g.a.buttons,style:{display:t.matrix.rows===t.matrix.cols?"block":"none"},children:[Object(r.jsx)("h3",{children:"Square Matrix Operations"}),Object(r.jsx)("button",{onClick:function(){var e=t.matrix.inverse();e?t.setResult({type:"matrix",value:e}):t.setResult({type:"text",value:"Not invertible."})},children:"Inverse"}),Object(r.jsx)("button",{onClick:function(){return t.setResult({type:"text",value:t.matrix.det().toString()})},children:"det"}),Object(r.jsx)("button",{onClick:function(){return t.setResult({type:"matrix",value:t.matrix.adj()})},children:"adj"})]})]})]})}function k(t){var e=t.fieldName,n=t.setField,i=Object(s.useState)(2),a=Object(c.a)(i,2),o=a[0],l=a[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("select",{value:e,onChange:function(t){var e=t.target.value;"Rational"===e?n(e,j):"Zn"===e&&n(e,m(o))},children:[Object(r.jsx)("option",{value:"Rational",children:"Q"}),Object(r.jsx)("option",{value:"Zn",children:"Zn"})]}),"Zn"===e?Object(r.jsx)("input",{value:o,onChange:function(t){var e=parseInt(t.target.value);try{e=parseInt(e)}catch(r){return}e>=2&&(l(e),n("Zn",m(e)))}}):null]})}var _=n(4),C=n.n(_);var R=function(){var t=Object(s.useState)(x.Zero(3,3,new j(0))),e=Object(c.a)(t,2),n=e[0],i=e[1],a=Object(s.useState)(x.Zero(3,3,new j(0))),o=Object(c.a)(a,2),l=o[0],u=o[1],h=Object(s.useState)(void 0),d=Object(c.a)(h,2),f=d[0],b=d[1],v=Object(s.useState)("Rational"),m=Object(c.a)(v,2),p=m[0],O=m[1],g=Object(s.useState)([j]),y=Object(c.a)(g,2),_=y[0],R=y[1],S=void 0;return f&&"matrix"===f.type?S=Object(r.jsxs)("div",{children:[Object(r.jsx)(w,{matrix:f.value}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(){return i(f.value)},children:"Save as A"}),Object(r.jsx)("button",{onClick:function(){return u(f.value)},children:"Save as B"})]}):f&&"text"===f.type?S=Object(r.jsx)("p",{children:f.value}):f&&"element"===f.type&&(S=f.value),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("div",{className:C.a.flexGrow,children:Object(r.jsx)(k,{fieldName:p,setField:function(t,e){i(x.Zero(3,3,new e(0))),u(x.Zero(3,3,new e(0))),R([e]),O(t)}})}),Object(r.jsx)("h1",{className:C.a.title,children:"Matrisha"}),Object(r.jsx)("div",{className:C.a.flexGrow})]}),Object(r.jsxs)("div",{className:C.a.twoMatrices,children:[Object(r.jsx)("div",{className:C.a.leftMatrix,children:Object(r.jsx)(I,{matrix:n,editable:!0,field:_[0],onChange:function(t){i(t)},setResult:b})}),Object(r.jsxs)("div",{className:C.a.twoMatricesOperators,children:[Object(r.jsx)("button",{onClick:function(){var t=n;i(l),u(t)},children:"Swap A, B"}),n.cols===l.rows?Object(r.jsx)("button",{onClick:function(){return b({type:"matrix",value:n.mul(l)})},children:"A \xd7 B"}):null,n.rows===l.rows&&n.cols===l.cols?Object(r.jsx)("button",{onClick:function(){return b({type:"matrix",value:n.add(l)})},children:"A + B"}):null]}),Object(r.jsx)("div",{className:C.a.rightMatrix,children:Object(r.jsx)(I,{matrix:l,editable:!0,field:_[0],onChange:function(t){u(t)},setResult:b})})]}),Object(r.jsx)("h1",{children:"Result:"}),S]})};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root"))},3:function(t,e,n){t.exports={MatrixComponent:"MatrixComponent_MatrixComponent__1A9Dz",leftParentheses:"MatrixComponent_leftParentheses__2Cys5",rightParentheses:"MatrixComponent_rightParentheses__2RQZm",columnAdd:"MatrixComponent_columnAdd__1Ov0e",buttonContainer:"MatrixComponent_buttonContainer__2eUZf",colAdd:"MatrixComponent_colAdd__1PsVU",colSub:"MatrixComponent_colSub__3RB3r",rowAdd:"MatrixComponent_rowAdd__2mklE",rowSub:"MatrixComponent_rowSub__2yFTu",rowColAdd:"MatrixComponent_rowColAdd__1WxXF",rowColSub:"MatrixComponent_rowColSub__1Iugk"}},4:function(t,e,n){t.exports={title:"App_title__-GfWs",flexGrow:"App_flexGrow__1-SFD",twoMatrices:"App_twoMatrices__rT6IG",twoMatricesOperators:"App_twoMatricesOperators__WZ2B7",leftMatrix:"App_leftMatrix__lGX0E",rightMatrix:"App_rightMatrix__1n1BS"}},7:function(t,e,n){t.exports={buttons:"MatrixWithButtons_buttons__15Ie6",matrixWithButtons:"MatrixWithButtons_matrixWithButtons__blZ_-",alignCenter:"MatrixWithButtons_alignCenter__mm8xY"}}},[[21,1,2]]]);
//# sourceMappingURL=main.2afc42fb.chunk.js.map