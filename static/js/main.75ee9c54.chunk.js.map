{"version":3,"sources":["matrix.js","MatrixComponent.jsx","RowReduceComponent.jsx","MatrixWithButtons.jsx","FieldSelector.jsx","App.jsx","index.js","MatrixComponent.module.css","App.module.css","MatrixWithButtons.module.css"],"names":["Rational","a","b","className","undefined","as","toString","this","str","indexOf","length","substring","i","BigInt","sign","g","gcd","y","add","mul","ZnField","n","x","Zn","Math","floor","Number","neg","Matrix","mat","rows","cols","j","colWidth","Array","fill","strLen","getItem","result","padEnd","other","Zero","min","setItem","val","k","iCut","jCut","resultI","resultJ","rowReduce","ops","res","isZero","op","opposite","pow","minor","det","temp","name","args","swapRowsInplace","addRowInplace","multiplyRowInplace","clone","actions","lastZeroRow","isZeroRow","push","r","found","rx","isOne","swaps","applyRowOperation","matRows","row","concat","transpose","linearlyIndependentRows","slice","zero","one","m","rangeInclusive","MatrixComponent","M","matrix","editable","Field","field","onChange","changeCell","event","target","value","nextM","changeDim","useState","elements","setElements","onPaste","txt","clipboardData","getData","substr","split","last","map","trim","newMat","preventDefault","table","el","style","width","bind","ref","input","Object","assign","onClick","select","onKeyDown","t","selStart","selectionStart","selEnd","selectionEnd","key","e","styles","leftParentheses","buttonContainer","colAdd","colSub","rowAdd","rowSub","rowColAdd","rowColSub","rightParentheses","RowReduceComponent","MatrixWithButtons","props","matrixWithButtons","alignCenter","buttons","setResult","rank","display","inverse","adj","FieldSelector","fieldName","setField","num","setNum","parseInt","App","M1","setM1","M2","setM2","setFieldName","fieldClass","setFieldClass","formattedResult","type","flexGrow","title","twoMatrices","leftMatrix","twoMatricesOperators","rightMatrix","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.75ee9c54.chunk.js","sourcesContent":["export class Rational {\n  className = \"Rational\";\n\n  constructor(a, b) {\n    function gcd(a, b) {\n      if (b === BigInt(0)) {\n        return a;\n      }\n      return gcd(b, a % b);\n    }\n\n    try {\n      if (b === undefined) {\n        // a/1\n        let as = a.toString()\n        this.str = as;\n        if (as.indexOf(\"/\") !== -1) {\n          if (as.indexOf(\"/\") === (as.length - 1)) {\n            as = as.substring(0, as.indexOf(\"/\"));\n          } else {\n            return new Rational(as.substring(0, as.indexOf(\"/\")), as.substring(as.indexOf(\"/\") + 1))\n          }\n        }\n        if (as.indexOf(\".\") !== -1) {\n          this.b = 1n;\n          for (let i = 0; i < (a.length - as.indexOf(\".\") - 1); i++) {\n            this.b *= 10n;\n          }\n        } else {\n          this.b = 1n;\n        }\n        this.a = BigInt(as.substring(0, as.indexOf(\".\")) + as.substring(as.indexOf(\".\") + 1))\n        return;\n      }\n\n      a = BigInt(a);\n      b = BigInt(b);\n      let sign = 1;\n      if (a < 0) {\n        sign *= -1;\n        a *= -1n;\n      }\n      if (b < 0) {\n        sign *= -1;\n        b *= -1n;\n      }\n      let g = gcd(a, b);\n      if (g === 0n) {\n        this.a = BigInt(sign) * a;\n        this.b = b;\n      } else {\n        this.a = BigInt(sign) * BigInt(a / g);\n        this.b = b / g;\n      }\n    } catch {\n      this.a = 0;\n      this.b = 1;\n    }\n  }\n\n  add(y) {\n    if (y.className === \"Rational\") {\n      return new Rational(this.a * y.b + this.b * y.a, this.b * y.b);\n    } else {\n      return y.add(this);\n    }\n  }\n\n  sub(y) {\n    return new Rational(this.a * y.b - this.b * y.a, this.b * y.b);\n  }\n\n  neg() {\n    return new Rational(-this.a, this.b);\n  }\n\n  mul(y) {\n    if (y.className === \"Rational\") {\n      return new Rational(this.a * y.a, this.b * y.b);\n    } else {\n      return y.mul(this);\n    }\n  }\n\n  opposite() {\n    return new Rational(this.b, this.a);\n  }\n\n  toString() {\n    if (this.str && this.str[0] === \"0\" && this.str.indexOf(\".\") === -1) {\n      this.str = this.str.substring(1);\n    }\n    if (this.str) return this.str;\n    if (this.b !== 1n) {\n      return this.a.toString() + \"/\" + this.b.toString();\n    } else {\n      return this.a.toString();\n    }\n  }\n\n  isZero() {\n    return this.a === 0n;\n  }\n\n  isOne() {\n    return this.a === this.b;\n  }\n}\n/* global BigInt */\nexport function ZnField(n) {\n  return class Zn {\n    className = \"Z\" + n.toString();\n\n    constructor(x) {\n      this.x = x % n;\n    }\n\n    add(y) {\n      if (y.className === this.className) {\n        return new Zn((this.x + y.x) % n);\n      } else if (y.className === \"Real\") {\n        return new Zn((this.x + Math.floor(y.x)) % n);\n      } else if (y.className === \"Rational\" && y.b === 1n) {\n        return new Zn((this.x + Number(y.a)))\n      } else {\n        return y.add(this);\n      }\n    }\n\n    sub(y) {\n      return this.add(y.neg());\n    }\n\n    mul(y) {\n      if (y.className === this.className) {\n        return new Zn(this.x * y.x);\n      } else if (y.className === \"Real\") {\n        return new Zn(this.x * Math.floor(y.x));\n      } else if (y.className === \"Rational\" && y.b === 1n) {\n        return new Zn(this.x * Number(y.a));\n      } else {\n        return y.mul(this);\n      }\n    }\n\n    neg() {\n      return new Zn(n - this.x);\n    }\n\n    opposite() {\n      for (let i = 1; i < n; i++) {\n        if ((this.x * i) % n === 1) {\n          return new Zn(i);\n        }\n      }\n    }\n\n    toString() {\n      return this.x.toString();\n    }\n\n    isZero() {\n      return this.x === 0;\n    }\n\n    isOne() {\n      return this.x === 1;\n    }\n  };\n}\n\nexport class Matrix {\n  className = \"Matrix\";\n\n  constructor(mat, rows, cols) {\n    this.mat = mat;\n    this.rows = rows;\n    this.cols = cols;\n  }\n\n  getItem(i, j) {\n    return this.mat[i - 1 + (j - 1) * this.rows];\n  }\n\n  setItem(i, j, x) {\n    this.mat[i - 1 + (j - 1) * this.rows] = x;\n  }\n\n  toString() {\n    let colWidth = new Array(this.cols).fill(0);\n    for (let i = 1; i <= this.rows; i++) {\n      for (let j = 1; j <= this.cols; j++) {\n        let strLen = this.getItem(i, j).toString().length;\n        if (strLen > colWidth[j]) {\n          colWidth[j] = strLen;\n        }\n      }\n    }\n    let result = \"\";\n    for (let i = 1; i <= this.rows; i++) {\n      for (let j = 1; j <= this.cols; j++) {\n        let str = this.getItem(i, j).toString();\n        str = str.padEnd(colWidth[j], \" \");\n        result += str;\n        if (j !== this.cols) {\n          result += \" \";\n        }\n      }\n      if (i !== this.rows) {\n        result += \"\\n\";\n      }\n    }\n    return result;\n  }\n\n  add(other) {\n    let result = Matrix.Zero(Math.min(this.rows, other.rows), Math.min(this.cols, other.cols));\n    for (let i = 1; i <= result.rows; i++) {\n      for (let j = 1; j <= result.cols; j++) {\n        result.setItem(i, j, this.getItem(i, j).add(other.getItem(i, j)));\n      }\n    }\n    return result;\n  }\n\n  mul(other) {\n    let result = Matrix.Zero(this.rows, other.cols);\n    for (let i = 1; i <= this.rows; i++) {\n      for (let j = 1; j <= other.cols; j++) {\n        // (AB)_i,j=sum(k=1,n,A_i,k * B_k,j)\n        let val = this.getItem(i, 1).mul(other.getItem(1, j));\n        for (let k = 2; k <= this.cols; k++) {\n          let x = this.getItem(i, k).mul(other.getItem(k, j));\n          val = val.add(x);\n        }\n        result.setItem(i, j, val);\n      }\n    }\n    return result;\n  }\n\n  minor(iCut, jCut) {\n    let mat = Matrix.Zero(this.rows - 1, this.cols - 1);\n    for (let i = 1; i <= this.rows - 1; i++) {\n      for (let j = 1; j <= this.cols - 1; j++) {\n        let resultI = i;\n        if (i >= iCut) {\n          resultI += 1;\n        }\n        let resultJ = j;\n        if (j >= jCut) {\n          resultJ += 1;\n        }\n        mat.setItem(i, j, this.getItem(resultI, resultJ));\n      }\n    }\n    return mat;\n  }\n\n  // detTmurot() {\n  //   if (this.rows != this.cols) {\n  //     return 0;\n  //   }\n  //   const n = this.rows;\n  //   // Get the signed tmurot. e.g. [[1, [0, 1]], [-1, [1, 0]]]\n  //   function getTmurot(n) {\n  //     if (n == 1) {\n  //       return [[1, [0]]];\n  //     }\n  //     let t = getTmurot(n - 1);\n  //     let result = [];\n  //     for (let tx of t) {\n  //       result.push([tx[0], tx[1].concat([n - 1])]);\n  //       for (let i = 0; i < (n - 1); i++) {\n  //         let new_tmura = tx[1].slice();\n  //         let temp = new_tmura[i];\n  //         new_tmura[i] = n - 1;\n  //         new_tmura.push(temp);\n  //         result.push([-tx[0], new_tmura]);\n  //       }\n  //     }\n  //     return result;\n  //   }\n\n  //   let tmurot = getTmurot(n);\n  //   let result = new Real(0);\n  //   for (let [sign, tmura] of tmurot) {\n  //     let x = new Real(sign);\n  //     for (let i = 1; i <= n; i++) {\n  //       x = x.mul(this.getItem(i, tmura[i - 1] + 1));\n  //     }\n  //     result = result.add(x);\n  //   }\n  //   return result;\n  // }\n\n  det() {\n    let [ops, res] = this.rowReduce();\n    for (let i = 1; i <= res.rows; i++) {\n      if (res.getItem(i, i).isZero()) {\n        return new Rational(0n, 1n); // not invertible\n      }\n    }\n    let result = new Rational(1n, 1n);\n    for (let op of ops) {\n      if (op[0] === \"swap\") {\n        result = result.neg();\n      } else if (op[0] === \"mul\") {\n        result = result.mul(op[2].opposite());\n      }\n    }\n    return result;\n  }\n\n  adj() {\n    let result = Matrix.Zero(this.cols, this.rows);\n    for (let i = 1; i <= this.rows; i++) {\n      for (let j = 1; j <= this.cols; j++) {\n        let x = new Rational(Math.pow(-1, j + i)).mul(this.minor(j, i).det());\n        result.setItem(i, j, x);\n      }\n    }\n    return result;\n  }\n\n  swapRowsInplace(i, j) {\n    /// R_i <-> R_j\n    for (let k = 1; k <= this.cols; k++) {\n      let temp = this.getItem(i, k);\n      this.setItem(i, k, this.getItem(j, k));\n      this.setItem(j, k, temp);\n    }\n  }\n\n  addRowInplace(i, j, x) {\n    /// R_i -> R_i + x*R_j\n    for (let k = 1; k <= this.cols; k++) {\n      this.setItem(i, k, this.getItem(i, k).add(x.mul(this.getItem(j, k))));\n    }\n  }\n\n  multiplyRowInplace(i, x) {\n    /// R_i -> x*R_i\n    for (let k = 1; k <= this.cols; k++) {\n      this.setItem(i, k, x.mul(this.getItem(i, k)));\n    }\n  }\n\n  applyRowOperation(name, ...args) {\n    if (name === \"swap\") {\n      this.swapRowsInplace(...args);\n    } else if (name === \"add\") {\n      this.addRowInplace(...args);\n    } else if (name === \"mul\") {\n      this.multiplyRowInplace(...args);\n    }\n  }\n\n  isZeroRow(i) {\n    for (let j = 1; j <= this.cols; j++) {\n      if (!this.getItem(i, j).isZero()) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  rowReduce() {\n    // Move zero rows to the bottom\n    let res = this.clone();\n    let actions = [];\n    let lastZeroRow = res.rows + 1;\n    for (let i = 1; i <= (lastZeroRow - 1); i++) {\n      if (res.isZeroRow(i)) {\n        lastZeroRow -= 1;\n        res.swapRowsInplace(i, lastZeroRow);\n        if (!res.isZeroRow(lastZeroRow)) {\n          actions.push([\"swap\", i, lastZeroRow]);\n        }\n      }\n    }\n    \n    let i = 1;\n    for (let j = 1; j <= res.cols; j++) {\n      // Find the first row with this coefficient\n      let r, found = false;\n      for (r = i; r <= res.rows; r++) {\n        if (!res.getItem(r, j).isZero()) {\n          found = true;\n          break;\n        }\n      }\n      if (found) {\n        if (r !== i) {\n          // Swap to get the coefficient on the right row\n          res.swapRowsInplace(r, i);\n          actions.push([\"swap\", r, i]);\n          r = i;\n        }\n        i += 1;\n        // Divide row to get it to be one\n        let rx = res.getItem(r, j);\n        if (!rx.isOne() && !rx.isZero()) {\n          let x = rx.opposite();\n          res.multiplyRowInplace(r, x);\n          actions.push([\"mul\", r, x]);\n        }\n        // Remove row from all others to cancel the coefficient\n        for (let k = 1; k <= res.rows; k++) {\n          if (k !== r && !res.getItem(k, j).isZero()) {\n            let x = res.getItem(k, j).neg();\n            res.addRowInplace(k, r, x);\n            actions.push([\"add\", k, r, x]);\n          }\n        }\n      }\n    }\n    return [actions, res];\n  }\n\n  linearlyIndependentRows() {\n    const [ops] = this.rowReduce();\n    // Apply ops but not swaps\n    const res = this.clone();\n    let swaps = [0]; // Current swap order\n    for (let i = 1; i <= this.cols; i++) {\n      swaps.push(i);\n    }\n    for (let op of ops) {\n      if (op[0] === \"mul\") {\n        res.applyRowOperation(\"mul\", swaps[op[1]], op[2]);\n      } else if (op[0] === \"add\") {\n        res.applyRowOperation(\"add\", swaps[op[1]], swaps[op[2]], op[3]);\n      } else if (op[0] === \"swap\") {\n        let temp = swaps[op[1]];\n        swaps[op[1]] = swaps[op[2]];\n        swaps[op[2]] = temp;\n      }\n    }\n    // Remove all zero rows\n    let mat = [];\n    let matRows = 0;\n    for (let i = 1; i <= res.rows; i++) {\n      let row = [];\n      let isZeroRow = true;\n      for (let j = 1; j <= Math.min(res.rows, res.cols); j++) {\n        if (!res.getItem(i, j).isZero()) {\n          isZeroRow = false;\n        }\n        row.push(this.getItem(i, j));\n      }\n      if (!isZeroRow) {\n        matRows += 1;\n        mat = mat.concat(row);\n      }\n    }\n    return new Matrix(mat, this.cols, matRows).transpose();\n  }\n\n  rank() {\n    return this.linearlyIndependentRows().rows;\n  }\n  \n  transpose() {\n    let result = Matrix.Zero(this.cols, this.rows);\n    for (let i = 1; i <= this.cols; i++) {\n      for (let j = 1; j <= this.rows; j++) {\n        result.setItem(i, j, this.getItem(j, i));\n      }\n    }\n    return result;\n  }\n\n  inverse() {\n    if (this.rows !== this.cols) {\n      return;\n    }\n    const n = this.rows;\n    let [ops, res] = this.rowReduce();\n    for (let i = 1; i <= n; i++) {\n      if (!res.getItem(i, i).isOne()) {\n        return;\n      }\n    }\n    // Do ops on res, in the opposite order\n    for (let op of ops) {\n      res.applyRowOperation(...op);\n    }\n    return res;\n  }\n\n  clone() {\n    return new Matrix(this.mat.slice(), this.rows, this.cols);\n  }\n\n  static Identity(n, zero, one) {\n    let mat = [];\n    for (let i = 0; i < n; i++) {\n      for (let j = 0; j < n; j++) {\n        mat.push(j === i ? (one || new Rational(1n, 1n)) : (zero || new Rational(0n, 1n)));\n      }\n    }\n    return new Matrix(mat, n, n);\n  }\n\n  static Zero(m, n, zero) {\n    let mat = new Array(m * n).fill(zero || new Rational(0n, 1n));\n    return new Matrix(mat, m, n)\n  }\n}\n","import styles from \"./MatrixComponent.module.css\";\nimport { useState } from \"react\";\nimport { Matrix } from \"./matrix.js\";\n\nfunction rangeInclusive(i, j) {\n  let result = [];\n  for (let x = i; x <= j; x++) {\n    result.push(x);\n  }\n  return result;\n}\n\nexport default function MatrixComponent({ matrix: M, editable, field: Field, onChange }) {\n  function changeCell(i, j, event) {\n    let x = event.target.value;\n    let nextM = M.clone();\n    nextM.setItem(i, j, new Field(x));\n    onChange(nextM);\n  }\n\n  function changeDim(n, m) {\n    let nextM = Matrix.Zero(n, m);\n    for (let i = 1; i <= M.rows; i++) {\n      for (let j = 1; j <= M.cols; j++) {\n        nextM.setItem(i, j, M.getItem(i, j))\n      }\n    }\n    onChange(nextM);\n  }\n\n  let [elements, setElements] = useState({});\n\n  function onPaste(event) {\n    let txt = event.clipboardData.getData(\"text\");\n    if (txt.substr(0, \"\\\\begin\".length) === \"\\\\begin\") {\n      // This is LaTeX\n      txt = txt.split(\"\\\\\\\\\");\n      txt[0] = txt[0].substr(txt[0].indexOf(\"}\") + 1);\n      let last = txt[txt.length - 1];\n      txt[txt.length - 1] = last.substr(0, last.indexOf(\"\\\\\"));\n      txt = txt.map(x => x.split(\"&\").map(y => new Field(y.trim())));\n      let newMat = Matrix.Zero(txt.length, txt[0].length);\n      for (let i = 0; i < txt.length; i++) {\n        for (let j = 0; j < txt[i].length; j++) {\n          newMat.setItem(i + 1, j + 1, txt[i][j]);\n        }\n      }\n      onChange(newMat);\n      event.preventDefault();\n    }\n  }\n\nlet table = (\n  <table>\n      <tbody>\n        {\n          rangeInclusive(1, M.rows).map(i => (\n            <tr key={i}>\n              {\n                rangeInclusive(1, M.cols).map(j => {\n                  let x = M.getItem(i, j).toString();\n                  let el = editable ?\n                    (<input\n                      style={{width: x.length + \"ch\"}}\n                      onChange={changeCell.bind(null, i, j)}\n                      onPaste={onPaste}\n                      key={i.toString() + \",\" + j.toString()}\n                      ref={input => setElements(Object.assign(elements, { [`${i},${j}`]: input }))}\n                      onClick={() => elements[`${i},${j}`].select()}\n                      onKeyDown={event => {\n                       try {\n                          const t = event.target;\n                          const n = t.value.length;\n                          const selStart = t.selectionStart;\n                          const selEnd = t.selectionEnd;\n                          if (selStart === n && selEnd === n && event.key === \"ArrowRight\") {\n                            elements[`${i},${j+1}`].select();\n                            event.preventDefault();\n                          } else if (selStart === 0 && selEnd === 0 && event.key === \"ArrowLeft\") {\n                            elements[`${i},${j-1}`].select();\n                            event.preventDefault();\n                          } else if (event.key === \"ArrowDown\") {\n                            elements[`${i+1},${j}`].select();\n                            event.preventDefault();\n                          } else if (event.key === \"ArrowUp\") {\n                            elements[`${i-1},${j}`].select();\n                            event.preventDefault();\n                          }\n                        } catch (e) {}\n                      }}\n                      value={x} />) :\n                    (<span>{x}</span>);\n                  return (\n                    <td key={i.toString() + \",\" + j.toString()}>\n                      {el}\n                    </td>\n                  )\n                })\n              }\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  );\n\n  return (\n    <div className={styles.MatrixComponent}>\n      <div className={styles.leftParentheses}></div>\n      { editable ? (\n      <div className={styles.buttonContainer}>\n        {table}\n        <button className={styles.colAdd} onClick={() => changeDim(M.rows, M.cols + 1)}>+</button>\n        <button className={styles.colSub} onClick={() => changeDim(M.rows, M.cols - 1)}>-</button>\n        <button className={styles.rowAdd} onClick={() => changeDim(M.rows + 1, M.cols)}>+</button>\n        <button className={styles.rowSub} onClick={() => changeDim(M.rows - 1, M.cols)}>-</button>\n        <button className={styles.rowColAdd} onClick={() => changeDim(M.rows + 1, M.cols + 1)}>+</button>\n        <button className={styles.rowColSub} onClick={() => changeDim(M.rows - 1, M.cols - 1)}>-</button>\n      </div>\n        )\n        : table}\n     <div className={styles.rightParentheses}></div>\n    </div>\n  );\n}\n","import MatrixComponent from \"./MatrixComponent.jsx\";\n\nfunction OneRow(args) {\n  if (args[0] === \"mul\") {\n    return (<p>R{args[1]} to R{args[1]} * {args[2].toString()}</p>);\n  } else if (args[0] === \"add\") {\n    return (<p>R{args[1]} to R{args[1]} + {args[2]} * {(args[3] || 1).toString()}</p>);\n  } else if (args[0] === \"swap\") {\n    return (<p>swap R{args[1]} and R{args[2]}</p>)\n  }\n}\n\nexport default function RowReduceComponent({ value }) {\n  let rows = value[0];\n  let result = value[1];\n  return (\n    <div>\n      {rows.map(r => OneRow(r))}\n      <p>Result:</p>\n      <MatrixComponent matrix={result} />\n    </div>\n  );\n}\n","import MatrixComponent from \"./MatrixComponent.jsx\";\nimport styles from \"./MatrixWithButtons.module.css\";\nimport RowReduceComponent from \"./RowReduceComponent.jsx\";\n\nexport default function MatrixWithButtons(props) {\n  return (\n    <div className={styles.matrixWithButtons}>\n      <div className={styles.alignCenter}>\n        <MatrixComponent\n          matrix={props.matrix}\n          editable={props.editable}\n          field={props.field}\n          onChange={props.onChange}\n        />\n      </div>\n      <div>\n        <div className={styles.buttons}>\n          <button onClick={() =>\n            props.setResult({\"type\": \"matrix\", \"value\": props.matrix.transpose()})\n          }>Transpose</button>\n          <button onClick={() =>\n            props.setResult({\"type\": \"element\", \"value\": <RowReduceComponent value={props.matrix.rowReduce()} />})\n          }>Row Reduce</button>\n          <button onClick={() =>\n            props.setResult({\"type\": \"matrix\", \"value\": props.matrix.linearlyIndependentRows()})\n          }>Linearly Independent Rows</button>\n          <button onClick={() =>\n            props.setResult({\"type\": \"text\", \"value\": props.matrix.rank()})\n          }>Rank</button>\n        </div>\n        <div className={styles.buttons} style={{ \n          display: props.matrix.rows === props.matrix.cols ? \"block\" : \"none\"\n        }}>\n          <h3>Square Matrix Operations</h3>\n          <button onClick={() => {\n            let x = props.matrix.inverse();\n            if (x) {\n              props.setResult({\"type\": \"matrix\", \"value\": x});\n            } else {\n              props.setResult({\"type\": \"text\", \"value\": \"Not invertible.\"})\n            }\n          }}>Inverse</button>\n          <button onClick={() =>\n            props.setResult({\"type\": \"text\", \"value\": props.matrix.det().toString()})\n          }>det</button>\n          <button onClick={() =>\n            props.setResult({\"type\": \"matrix\", \"value\": props.matrix.adj()})\n          }>adj</button>\n       </div>\n      </div>\n    </div>\n  );\n}\n","import { Rational, ZnField } from \"./matrix.js\";\nimport { useState } from \"react\";\n\nexport default function FieldSelector({ fieldName, setField }) {\n  let [num, setNum] = useState(2);\n  return (\n    <div>\n      <select value={fieldName} onChange={(event) => {\n        let name = event.target.value;\n        if (name === \"Rational\") {\n          setField(name, Rational);\n        } else if (name === \"Zn\") {\n          setField(name, ZnField(num));\n        }\n      }}>\n        <option value=\"Rational\">Q</option>\n        <option value=\"Zn\">Zn</option>\n      </select>\n      { fieldName === \"Zn\" ? (\n        <input value={num} onChange={(event) => {\n          let x = parseInt(event.target.value);\n          try {\n            x = parseInt(x);\n          } catch { return; }\n          \n          if (x >= 2) {\n            setNum(x);\n            setField(\"Zn\", ZnField(x));\n          }\n        }} />\n      ) : null }\n   </div>\n  );\n}\n","import MatrixComponent from \"./MatrixComponent.jsx\";\nimport MatrixWithButtons from \"./MatrixWithButtons.jsx\";\nimport FieldSelector from \"./FieldSelector.jsx\";\nimport { Matrix, Rational } from \"./matrix.js\";\nimport { useState } from \"react\";\nimport styles from \"./App.module.css\"\n\nfunction App() {\n  let [M1, setM1] = useState(Matrix.Zero(3, 3, new Rational(0)));\n  let [M2, setM2] = useState(Matrix.Zero(3, 3, new Rational(0)));\n  let [result, setResult] = useState(undefined);\n  let [fieldName, setFieldName] = useState(\"Rational\");\n  let [fieldClass, setFieldClass] = useState([Rational]);\n\n  function fieldChanged(fieldName, fieldClass) {\n    setM1(Matrix.Zero(3, 3, new fieldClass(0)));\n    setM2(Matrix.Zero(3, 3, new fieldClass(0)));\n    setFieldClass([fieldClass]);\n    setFieldName(fieldName);\n  }\n\n  let formattedResult = undefined;\n  if (result && result.type === \"matrix\") {\n    formattedResult =  (\n      <div>\n        <MatrixComponent\n          matrix={result.value}\n        />\n        <br /><br />\n        <button onClick={() => setM1(result.value)}>Save as A</button>\n        <button onClick={() => setM2(result.value)}>Save as B</button>\n      </div>\n     );\n  } else if (result && result.type === \"text\") {\n    formattedResult = (<p>{ result.value }</p>)\n  } else if (result && result.type === \"element\") {\n    formattedResult = result.value;\n  }\n\n  return (\n    <div className=\"App\">\n      <div style={{display: \"flex\"}}>\n        <div className={styles.flexGrow}>\n          <FieldSelector fieldName={fieldName} setField={fieldChanged} />\n        </div>\n        <h1 className={styles.title}>Matrisha</h1>\n        <div className={styles.flexGrow}></div>\n      </div>\n      <div className={styles.twoMatrices}>\n        <div className={styles.leftMatrix}>\n          <MatrixWithButtons\n            matrix={M1}\n            editable={true}\n            field={fieldClass[0]}\n            onChange={m => {\n              setM1(m);\n            }}\n            setResult={setResult}\n          />\n        </div>\n        <div className={styles.twoMatricesOperators}>\n          <button onClick={() => { let temp = M1; setM1(M2); setM2(temp); }}>Swap A, B</button>\n          { M1.cols === M2.rows ? (\n            <button onClick={() => setResult({\"type\": \"matrix\", \"value\": M1.mul(M2)})}>A Ã— B</button>\n          ) : null}\n          { M1.rows === M2.rows && M1.cols === M2.cols ? (\n            <button onClick={() => setResult({\"type\": \"matrix\", \"value\": M1.add(M2)})}>A + B</button>\n          ) : null}\n        </div>\n        <div className={styles.rightMatrix}>\n          <MatrixWithButtons\n            matrix={M2}\n            editable={true}\n            field={fieldClass[0]}\n            onChange={m => {\n              setM2(m);\n            }}\n            setResult={setResult}\n          />\n        </div>\n      </div>\n      <h1>Result:</h1>\n      {formattedResult}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MatrixComponent\":\"MatrixComponent_MatrixComponent__1A9Dz\",\"leftParentheses\":\"MatrixComponent_leftParentheses__2Cys5\",\"rightParentheses\":\"MatrixComponent_rightParentheses__2RQZm\",\"columnAdd\":\"MatrixComponent_columnAdd__1Ov0e\",\"buttonContainer\":\"MatrixComponent_buttonContainer__2eUZf\",\"colAdd\":\"MatrixComponent_colAdd__1PsVU\",\"colSub\":\"MatrixComponent_colSub__3RB3r\",\"rowAdd\":\"MatrixComponent_rowAdd__2mklE\",\"rowSub\":\"MatrixComponent_rowSub__2yFTu\",\"rowColAdd\":\"MatrixComponent_rowColAdd__1WxXF\",\"rowColSub\":\"MatrixComponent_rowColSub__1Iugk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__-GfWs\",\"flexGrow\":\"App_flexGrow__1-SFD\",\"twoMatrices\":\"App_twoMatrices__rT6IG\",\"twoMatricesOperators\":\"App_twoMatricesOperators__WZ2B7\",\"leftMatrix\":\"App_leftMatrix__lGX0E\",\"rightMatrix\":\"App_rightMatrix__1n1BS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"MatrixWithButtons_buttons__15Ie6\",\"matrixWithButtons\":\"MatrixWithButtons_matrixWithButtons__blZ_-\",\"alignCenter\":\"MatrixWithButtons_alignCenter__mm8xY\"};"],"sourceRoot":""}