(this["webpackJsonpmatrix-calculator"]=this["webpackJsonpmatrix-calculator"]||[]).push([[0],{1:function(t,e,n){t.exports={MatrixComponent:"MatrixComponent_MatrixComponent__1A9Dz",leftParentheses:"MatrixComponent_leftParentheses__2Cys5",rightParentheses:"MatrixComponent_rightParentheses__2RQZm",columnAdd:"MatrixComponent_columnAdd__1Ov0e",buttonContainer:"MatrixComponent_buttonContainer__2eUZf",colAdd:"MatrixComponent_colAdd__1PsVU",colSub:"MatrixComponent_colSub__3RB3r",rowAdd:"MatrixComponent_rowAdd__2mklE",rowSub:"MatrixComponent_rowSub__2yFTu",rowColAdd:"MatrixComponent_rowColAdd__1WxXF",rowColSub:"MatrixComponent_rowColSub__1Iugk"}},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n(2),i=n.n(s),a=n(11),o=n.n(a),c=(n(18),n(3)),l=n(1),u=n.n(l),h=n(12),f=n(7),d=n(8),b=n(9),v=function(){function t(e,n){Object(d.a)(this,t),this.className="Rational";try{if(void 0===n){var r=e.toString();if(this.str=r,-1!==r.indexOf("/")){if(r.indexOf("/")!==r.length-1)return new t(r.substring(0,r.indexOf("/")),r.substring(r.indexOf("/")+1));r=r.substring(0,r.indexOf("/"))}if(-1!==r.indexOf(".")){this.b=1n;for(var s=0;s<e.length-r.indexOf(".")-1;s++)this.b*=10n}else this.b=1n;return void(this.a=BigInt(r.substring(0,r.indexOf("."))+r.substring(r.indexOf(".")+1)))}e=BigInt(e),n=BigInt(n);var i=1;e<0&&(i*=-1,e*=-1n),n<0&&(i*=-1,n*=-1n);var a=function t(e,n){return n===BigInt(0)?e:t(n,e%n)}(e,n);0n===a?(this.a=BigInt(i)*e,this.b=n):(this.a=BigInt(i)*BigInt(e/a),this.b=n/a)}catch(o){this.a=0,this.b=1}}return Object(b.a)(t,[{key:"add",value:function(e){return"Rational"===e.className?new t(this.a*e.b+this.b*e.a,this.b*e.b):e.add(this)}},{key:"sub",value:function(e){return new t(this.a*e.b-this.b*e.a,this.b*e.b)}},{key:"neg",value:function(){return new t(-this.a,this.b)}},{key:"mul",value:function(e){return"Rational"===e.className?new t(this.a*e.a,this.b*e.b):e.mul(this)}},{key:"opposite",value:function(){return new t(this.b,this.a)}},{key:"toString",value:function(){return this.str&&"0"===this.str[0]&&(this.str=this.str.substring(1)),this.str?this.str:1n!==this.b?this.a.toString()+"/"+this.b.toString():this.a.toString()}},{key:"isZero",value:function(){return 0n===this.a}},{key:"isOne",value:function(){return this.a===this.b}}]),t}();var m=function(){function t(e,n,r){Object(d.a)(this,t),this.className="Matrix",this.mat=e,this.rows=n,this.cols=r}return Object(b.a)(t,[{key:"getItem",value:function(t,e){return this.mat[t-1+(e-1)*this.rows]}},{key:"setItem",value:function(t,e,n){this.mat[t-1+(e-1)*this.rows]=n}},{key:"toString",value:function(){for(var t=new Array(this.cols).fill(0),e=1;e<=this.rows;e++)for(var n=1;n<=this.cols;n++){var r=this.getItem(e,n).toString().length;r>t[n]&&(t[n]=r)}for(var s="",i=1;i<=this.rows;i++){for(var a=1;a<=this.cols;a++){var o=this.getItem(i,a).toString();s+=o=o.padEnd(t[a]," "),a!==this.cols&&(s+=" ")}i!==this.rows&&(s+="\n")}return s}},{key:"add",value:function(e){for(var n=t.Zero(Math.min(this.rows,e.rows),Math.min(this.cols,e.cols)),r=1;r<=n.rows;r++)for(var s=1;s<=n.cols;s++)n.setItem(r,s,this.getItem(r,s).add(e.getItem(r,s)));return n}},{key:"mul",value:function(e){for(var n=t.Zero(this.rows,e.cols),r=1;r<=this.rows;r++)for(var s=1;s<=e.cols;s++){for(var i=this.getItem(r,1).mul(e.getItem(1,s)),a=2;a<=this.cols;a++){var o=this.getItem(r,a).mul(e.getItem(a,s));i=i.add(o)}n.setItem(r,s,i)}return n}},{key:"minor",value:function(e,n){for(var r=t.Zero(this.rows-1,this.cols-1),s=1;s<=this.rows-1;s++)for(var i=1;i<=this.cols-1;i++){var a=s;s>=e&&(a+=1);var o=i;i>=n&&(o+=1),r.setItem(s,i,this.getItem(a,o))}return r}},{key:"det",value:function(){for(var t=this.rowReduce(),e=Object(c.a)(t,2),n=e[0],r=e[1],s=1;s<=r.rows;s++)if(r.getItem(s,s).isZero())return new v(0n,1n);var i,a=new v(1n,1n),o=Object(f.a)(n);try{for(o.s();!(i=o.n()).done;){var l=i.value;"swap"===l[0]?a=a.neg():"mul"===l[0]&&(a=a.mul(l[2].opposite()))}}catch(u){o.e(u)}finally{o.f()}return a}},{key:"adj",value:function(){for(var e=t.Zero(this.cols,this.rows),n=1;n<=this.rows;n++)for(var r=1;r<=this.cols;r++){var s=new v(Math.pow(-1,r+n)).mul(this.minor(r,n).det());e.setItem(n,r,s)}return e}},{key:"swapRowsInplace",value:function(t,e){for(var n=1;n<=this.cols;n++){var r=this.getItem(t,n);this.setItem(t,n,this.getItem(e,n)),this.setItem(e,n,r)}}},{key:"addRowInplace",value:function(t,e,n){for(var r=1;r<=this.cols;r++)this.setItem(t,r,this.getItem(t,r).add(n.mul(this.getItem(e,r))))}},{key:"multiplyRowInplace",value:function(t,e){for(var n=1;n<=this.cols;n++)this.setItem(t,n,e.mul(this.getItem(t,n)))}},{key:"applyRowOperation",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];"swap"===t?this.swapRowsInplace.apply(this,n):"add"===t?this.addRowInplace.apply(this,n):"mul"===t&&this.multiplyRowInplace.apply(this,n)}},{key:"rowReduce",value:function(){for(var t=this.clone(),e=[],n=t.rows+1,r=1;r<=n-1;r++){for(var s=!0,i=1;i<=t.cols;i++)if(!t.getItem(r,i).isZero()){s=!1;break}s&&(n-=1,t.swapRowsInplace(r,n),e.push(["swap",r,n]))}for(var a=1,o=1;o<=t.cols;o++){var c=void 0,l=!1;for(c=a;c<=t.rows;c++)if(!t.getItem(c,o).isZero()){l=!0;break}if(l){c!==a&&(t.swapRowsInplace(c,a),e.push(["swap",c,a]),c=a),a+=1;var u=t.getItem(c,o);if(!u.isOne()&&!u.isZero()){var h=u.opposite();t.multiplyRowInplace(c,h),e.push(["mul",c,h])}for(var f=1;f<=t.rows;f++)if(f!==c&&!t.getItem(f,o).isZero()){var d=t.getItem(f,o).neg();t.addRowInplace(f,c,d),e.push(["add",f,c,d])}}}return[e,t]}},{key:"linearlyIndependentRows",value:function(){for(var e=this.rowReduce(),n=Object(c.a)(e,1)[0],r=this.clone(),s=[0],i=1;i<=this.cols;i++)s.push(i);var a,o=Object(f.a)(n);try{for(o.s();!(a=o.n()).done;){var l=a.value;if("mul"===l[0])r.applyRowOperation("mul",s[l[1]],l[2]);else if("add"===l[0])r.applyRowOperation("add",s[l[1]],s[l[2]],l[3]);else if("swap"===l[0]){var u=s[l[1]];s[l[1]]=s[l[2]],s[l[2]]=u}}}catch(j){o.e(j)}finally{o.f()}for(var h=[],d=0,b=1;b<=r.rows;b++){for(var v=[],m=!0,w=1;w<=r.cols;w++)r.getItem(b,w).isZero()||(m=!1),v.push(this.getItem(b,w));m||(d+=1,h=h.concat(v))}return new t(h,this.cols,d).transpose()}},{key:"transpose",value:function(){for(var e=t.Zero(this.cols,this.rows),n=1;n<=this.cols;n++)for(var r=1;r<=this.rows;r++)e.setItem(n,r,this.getItem(r,n));return e}},{key:"inverse",value:function(){if(this.rows===this.cols){for(var t=this.rows,e=this.rowReduce(),n=Object(c.a)(e,2),r=n[0],s=n[1],i=1;i<=t;i++)if(!s.getItem(i,i).isOne())return;var a,o=Object(f.a)(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;s.applyRowOperation.apply(s,Object(h.a)(l))}}catch(u){o.e(u)}finally{o.f()}return s}}},{key:"clone",value:function(){return new t(this.mat.slice(),this.rows,this.cols)}}],[{key:"Identity",value:function(e,n,r){for(var s=[],i=0;i<e;i++)for(var a=0;a<e;a++)s.push(a===i?r||new v(1n,1n):n||new v(0n,1n));return new t(s,e,e)}},{key:"Zero",value:function(e,n,r){return new t(new Array(e*n).fill(r||new v(0n,1n)),e,n)}}]),t}();function w(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n}function j(t){var e=t.matrix,n=t.editable,s=t.field,i=t.onChange;function a(t,n,r){var a=r.target.value,o=e.clone();o.setItem(t,n,new s(a)),i(o)}function o(t,n){for(var r=m.Zero(t,n),s=1;s<=e.rows;s++)for(var a=1;a<=e.cols;a++)r.setItem(s,a,e.getItem(s,a));i(r)}var c=Object(r.jsx)("table",{children:Object(r.jsx)("tbody",{children:w(1,e.rows).map((function(t){return Object(r.jsx)("tr",{children:w(1,e.cols).map((function(s){var i=e.getItem(t,s).toString(),o=n?Object(r.jsx)("input",{style:{width:i.length+"ch"},onChange:a.bind(null,t,s),value:i}):Object(r.jsx)("span",{children:i});return Object(r.jsx)("td",{children:o},t.toString()+","+s.toString())}))},t)}))})});return Object(r.jsxs)("div",{className:u.a.MatrixComponent,children:[Object(r.jsx)("div",{className:u.a.leftParentheses}),n?Object(r.jsxs)("div",{className:u.a.buttonContainer,children:[c,Object(r.jsx)("button",{className:u.a.colAdd,onClick:function(){return o(e.rows,e.cols+1)},children:"+"}),Object(r.jsx)("button",{className:u.a.colSub,onClick:function(){return o(e.rows,e.cols-1)},children:"-"}),Object(r.jsx)("button",{className:u.a.rowAdd,onClick:function(){return o(e.rows+1,e.cols)},children:"+"}),Object(r.jsx)("button",{className:u.a.rowSub,onClick:function(){return o(e.rows-1,e.cols)},children:"-"}),Object(r.jsx)("button",{className:u.a.rowColAdd,onClick:function(){return o(e.rows+1,e.cols+1)},children:"+"}),Object(r.jsx)("button",{className:u.a.rowColSub,onClick:function(){return o(e.rows-1,e.cols-1)},children:"-"})]}):c,Object(r.jsx)("div",{className:u.a.rightParentheses})]})}var p=n(4),x=n.n(p);var O=function(){var t,e,n=Object(s.useState)(m.Zero(3,3,new v(0))),i=Object(c.a)(n,2),a=i[0],o=i[1],l=Object(s.useState)(m.Zero(3,3,new v(0))),u=Object(c.a)(l,2),h=u[0],f=u[1],w=Object(s.useState)(void 0),p=Object(c.a)(w,2),O=p[0],g=p[1],y=Object(s.useState)("R"),I=Object(c.a)(y,2),k=I[0],_=I[1],C=Object(s.useState)(2),M=Object(c.a)(C,2),S=M[0],R=M[1];function N(){o(m.Zero(3,3,new t(0))),f(m.Zero(3,3,new t(0)))}return"R"===k?t=v:"Zn"===k&&(e=S,t=function(){function t(n){Object(d.a)(this,t),this.className="Z"+e.toString(),this.x=n%e}return Object(b.a)(t,[{key:"add",value:function(n){return n.className===this.className?new t((this.x+n.x)%e):"Real"===n.className?new t((this.x+Math.floor(n.x))%e):"Rational"===n.className&&1n===n.b?new t(this.x+Number(n.a)):n.add(this)}},{key:"sub",value:function(t){return this.add(t.neg())}},{key:"mul",value:function(e){return e.className===this.className?new t(this.x*e.x):"Real"===e.className?new t(this.x*Math.floor(e.x)):"Rational"===e.className&&1n===e.b?new t(this.x*Number(e.a)):e.mul(this)}},{key:"neg",value:function(){return new t(e-this.x)}},{key:"opposite",value:function(){for(var n=1;n<e;n++)if(this.x*n%e===1)return new t(n)}},{key:"toString",value:function(){return this.x.toString()}},{key:"isZero",value:function(){return 0===this.x}},{key:"isOne",value:function(){return 1===this.x}}]),t}()),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("select",{value:k,onChange:function(t){_(t.target.value),N()},children:[Object(r.jsx)("option",{value:"R",children:"R"}),Object(r.jsx)("option",{value:"Zn",children:"Zn"})]}),Object(r.jsx)("input",{disabled:"Zn"!==k,value:S,onChange:function(t){R(t.target.value),N()},type:"number",min:"2"}),Object(r.jsx)("h1",{className:x.a.title,children:"Misha's Matrix Calculator"}),Object(r.jsxs)("div",{className:x.a.twoMatrices,children:[Object(r.jsx)("div",{className:x.a.leftMatrix,children:Object(r.jsx)(j,{matrix:a,editable:!0,field:t,onChange:function(t){o(t)}})}),Object(r.jsxs)("div",{className:x.a.twoMatricesOperators,children:[Object(r.jsx)("button",{onClick:function(){var t=a;o(h),f(t)},children:"Swap A, B"}),a.cols===h.rows?Object(r.jsx)("button",{onClick:function(){return g(a.mul(h))},children:"A \u2a09 B"}):null,a.rows===h.rows&&a.cols===h.cols?Object(r.jsx)("button",{onClick:function(){return g(a.add(h))},children:"A + B"}):null,Object(r.jsx)("button",{onClick:function(){return g(a.transpose())},children:"A transpose"}),a.rows===a.cols?Object(r.jsxs)("div",{className:x.a.twoMatricesOperators,children:[Object(r.jsx)("p",{children:Object(r.jsx)("b",{children:"Square Matrix Operations"})}),Object(r.jsx)("button",{onClick:function(){return g(a.inverse())},children:"Inverse A"}),Object(r.jsx)("button",{onClick:function(){return g(new m([a.det()],1,1))},children:"det(A)"}),Object(r.jsx)("button",{onClick:function(){return g(a.adj())},children:"adj(A)"})]}):null]}),Object(r.jsx)("div",{className:x.a.rightMatrix,children:Object(r.jsx)(j,{matrix:h,editable:!0,field:t,onChange:function(t){f(t)}})})]}),Object(r.jsx)("h1",{children:"Result:"}),O?Object(r.jsxs)("div",{children:[Object(r.jsx)(j,{matrix:O}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(){return o(O)},children:"Save as A"}),Object(r.jsx)("button",{onClick:function(){return f(O)},children:"Save as B"})]}):null]})};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root"))},4:function(t,e,n){t.exports={title:"App_title__-GfWs",twoMatrices:"App_twoMatrices__rT6IG",twoMatricesOperators:"App_twoMatricesOperators__WZ2B7",leftMatrix:"App_leftMatrix__lGX0E",rightMatrix:"App_rightMatrix__1n1BS"}}},[[19,1,2]]]);
//# sourceMappingURL=main.3e50ba6e.chunk.js.map